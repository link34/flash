<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:composite="http://java.sun.com/jsf/composite">
<head>
<title>Blog Item</title>
</head>
<body>
<composite:interface>
	<composite:attribute name="blog" type="com.solt.flash.entity.Blog" required="true" />
	<composite:attribute name="detailsOutcome" type="java.lang.String" required="true" />
	<composite:attribute name="deleteActionListener" method-signature="void method(com.solt.flash.entity.Blog)" required="true" />
	<composite:attribute name="deleteResultRenderer" type="java.lang.String" required="true" />
</composite:interface>
<composite:implementation>
	<h:form>
	<div class="card">
		<div class="card-image waves-effect waves-block waves-light">
			<h:graphicImage value="#{imageBaseUrl}#{empty cc.attrs.blog.image ? defaultCover : cc.attrs.blog.imageUrl}" />
			<h:outputText value="#{cc.attrs.blog.title}" styleClass="card-title" />
		</div>					

		<div class="card-content">
			<h:commandLink actionListener="#{cc.attrs.deleteActionListener}" 
				styleClass="MarRight10 red-text left">
				<i class="material-icons">delete</i>
				<f:ajax execute="@this" render="#{cc.attrs.deleteResultRenderer}"></f:ajax>
			</h:commandLink>
			<span class="MarRight10 valign-wrapper right">
				<i class="material-icons Fs16 valign MarRight05 cyan-text text-darken-4">chat</i>
				<h:outputText value="#{cc.attrs.blog.comments.size()}" styleClass="Fs16 valign cyan-text text-darken-4" />
			</span>		
			<span class="MarRight10 valign-wrapper right">
				<i class="material-icons Fs16 valign MarRight05 valign right">mood</i>
				<h:outputText id="rateCount" value="#{cc.attrs.blog.rate.size()}" styleClass="Fs16 valign cyan-text text-darken-4" />
			</span>	
			<h:outputText value="#{cc.attrs.blog.category.category}" styleClass="cyan-text text-darken-4" />
		</div>
		<div class="divider" />

		<div class="card-content">
			<p class="teal-text text-darkern-1">
			<h:outputText value="#{cc.attrs.blog.body}" />
			</p>
			<h:outputText value="#{cc.attrs.blog.security.creation}" styleClass="Fs10 teal-text" >
				<f:converter binding="#{commonDateTimeConverter}" />
			</h:outputText><br/>
			
			<h:link styleClass="teal-text text-darkern-3 Fs10" value="Read More" outcome="#{cc.attrs.detailsOutcome}">
				<f:param name="id" value="#{cc.attrs.blog.id}"></f:param>
			</h:link>
			
		</div>
	</div>
</h:form>
</composite:implementation>
</body>
</html>