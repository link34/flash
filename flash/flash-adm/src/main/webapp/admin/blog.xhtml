<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:flash="http://java.sun.com/jsf/composite/flash">

	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="title">
			Memory
		</ui:define>
		
		<ui:define name="content">

			<div class="card">
				<div class="card-image waves-effect waves-block waves-light">
					<h:graphicImage value="#{imageBaseUrl}#{empty blogDetailsBean.blog.image ? defaultCover : blogDetailsBean.blog.imageUrl}" />
					<h:outputText value="#{blogDetailsBean.blog.title}" styleClass="card-title" />
				</div>					
		
				<div class="card-content">
					<span class="MarRight10 valign-wrapper right">
						<i class="material-icons Fs16 valign MarRight05 cyan-text text-darken-4">chat</i>
						<h:outputText value="#{blogDetailsBean.blog.comments.size()}" styleClass="Fs16 valign cyan-text text-darken-4" />
					</span>		
					<span class="MarRight10 valign-wrapper right">
						<i class="material-icons Fs16 valign MarRight05 valign right">mood</i>
						<h:outputText id="rateCount" value="#{blogDetailsBean.blog.rate.size()}" styleClass="Fs16 valign cyan-text text-darken-4" />
					</span>	
					<h:outputText value="#{blogDetailsBean.blog.category.category}" styleClass="cyan-text text-darken-4" />
				</div>
				<div class="divider" />
		
				<div class="card-content">
					<p class="teal-text text-darkern-1">
					<h:outputText value="#{blogDetailsBean.blog.body}" />
					</p>
					<h:outputText value="#{blogDetailsBean.blog.security.creation}" styleClass="Fs10 teal-text" >
						<f:converter binding="#{commonDateTimeConverter}" />
					</h:outputText><br/>
					
				</div>
			</div>
								
			<h:panelGroup id="comments">
				<ui:repeat var="cmt" value="#{blogDetailsBean.blog.commentList}">
					<flash:commentItem cmt="#{cmt}" 
						deleteAction="#{blogDetailsBean.deleteComment(cmt)}" deleteResultRedrer="comments commentCount" />
				</ui:repeat>
			</h:panelGroup>
		</ui:define>
	</ui:composition>
</html>